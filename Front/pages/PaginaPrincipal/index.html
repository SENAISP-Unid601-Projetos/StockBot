<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>StockBot - Dashboard Inteligente</title>
    <link rel="stylesheet" href="styles/style.css"> 
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>

    <nav class="sidebar">
        <button id="sidebar-toggle" class="sidebar-toggle">S</button>
        <h2>StockBot</h2>
        <a href="#" class="nav-link active"> <i data-lucide="layout-dashboard"></i> <span>Dashboard</span>
        </a>
        <a href="../CadastroDeComponentes/index.html" class="nav-link">
            <i data-lucide="wrench"></i>
            <span>Componentes</span>
        </a>
        <a href="#" class="nav-link">
            <i data-lucide="history"></i> <span>Histórico</span>
        </a>
        <div style="flex-grow: 1;"></div>
        <a href="#" class="nav-link">
            <i data-lucide="settings"></i> <span>Configurações</span>
        </a>
        <a href="#" class="nav-link">
            <i data-lucide="circle-user-round"></i>
            <span>Sair/Entrar</span>
        </a>
    </nav>

    <main class="main main-content">
        <div class="header-dashboard">
            <div class="header-title">
                <h1>Dashboard</h1>
                <p>Olá, Usuário! Aqui está um resumo inteligente do seu estoque.</p>
            </div>
            <div class="header-controls">
                <div class="search-bar">
                    <i data-lucide="search"></i>
                    <input type="text" placeholder="Pesquisar componente...">
                </div>
                <div class="date-filter">
                    <i data-lucide="calendar"></i>
                    <select>
                        <option>Últimos 30 dias</option>
                        <option>Últimos 7 dias</option>
                        <option>Este mês</option>
                        <option>Este trimestre</option>
                    </select>
                </div>
            </div>
        </div>
    
        <div class="dashboard-grid">
            <div class="kpi-card">
                <div class="card-header">
                    <span>Total de Componentes</span>
                    <i data-lucide="package-search"></i>
                </div>
                <span class="number">150</span>
                <span class="description">+5 na última semana</span>
            </div>
            <div class="kpi-card">
                <div class="card-header">
                    <span>Itens em Estoque</span>
                    <i data-lucide="archive"></i>
                </div>
                <span class="number">1.250</span>
                <span class="description">Unidades totais</span>
            </div>
            <div class="kpi-card critical" id="kpi-falta"> <div class="card-header">
                    <span>Itens em Falta</span>
                    <i data-lucide="alert-triangle"></i>
                </div>
                <span class="number">10</span>
                <span class="description">Ação imediata necessária</span>
            </div>
        </div>
        
        <div class="section-title">
            <i data-lucide="zap"></i>
            <h2>Ação Imediata</h2>
        </div>
        <div class="action-grid">
            <div class="action-card">
                <h3><i data-lucide="x-circle"></i>Itens em Falta (Estoque Zerado)</h3>
                <ul>
                    <li>Transistor BC548 <span class="badge red">0 un.</span></li>
                    <li>LED Vermelho 5mm <span class="badge red">0 un.</span></li>
                    <li>Resistor 220 Ohm <span class="badge red">0 un.</span></li>
                </ul>
            </div>
            <div class="action-card">
                <h3><i data-lucide="alert-circle"></i>Itens com Estoque Baixo</h3>
                <ul>
                    <li>Capacitor 100uF <span class="badge orange">5 un.</span></li>
                    <li>Potenciômetro 10k <span class="badge orange">8 un.</span></li>
                    <li>Regulador de Tensão 7805 <span class="badge orange">3 un.</span></li>
                </ul>
            </div>
        </div>

        <div class="charts-grid">
            <div class="chart-card">
                <h3>Evolução do Estoque (Últimos 6 meses)</h3>
                <canvas id="graficoEvolucao"></canvas>
            </div>
            <div class="chart-card">
                <h3>Componentes por Categoria</h3>
                <canvas id="graficoCategorias"></canvas>
            </div>
        </div>

        <div class="section-title">
            <i data-lucide="lightbulb"></i>
            <h2>Análises e Insights</h2>
        </div>
        <div class="insights-grid">
            <div class="insight-card">
                <h3>Análise de Giro</h3>
                <h4><i data-lucide="trending-up"></i>Mais Utilizados</h4>
                <ol>
                    <li>Resistor 1k Ohm</li>
                    <li>Capacitor 10uF</li>
                    <li>LED Verde 5mm</li>
                </ol>
                <h4><i data-lucide="trending-down"></i>Estoque Parado (Menos Utilizados)</h4>
                <ol>
                    <li>Sensor de Umidade DHT22</li>
                    <li>Display LCD 20x4</li>
                    <li>Módulo Relé 4 Canais</li>
                </ol>
            </div>
            <div class="insight-card">
                <h3><i data-lucide="history"></i>Atividade Recente</h3>
                <ul class="activity-log">
                    <li>
                        <i data-lucide="arrow-down-circle" class="saida"></i>
                        <div>
                            <strong>SAÍDA:</strong> Resistor 1k Ohm
                            <small>08/08/2025, 22:45 - 20 unidades</small>
                        </div>
                    </li>
                    <li>
                        <i data-lucide="arrow-up-circle" class="entrada"></i>
                        <div>
                            <strong>ENTRADA:</strong> Módulo Wifi ESP8266
                            <small>08/08/2025, 18:10 - 15 unidades</small>
                        </div>
                    </li>
                    <li>
                        <i data-lucide="arrow-down-circle" class="saida"></i>
                        <div>
                            <strong>SAÍDA:</strong> LED Verde 5mm
                            <small>07/08/2025, 14:30 - 50 unidades</small>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </main>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
    
            const toggleButton = document.getElementById('sidebar-toggle');
            const sidebar = document.querySelector('.sidebar');
            const mainContent = document.querySelector('.main-content');
    
            toggleButton.addEventListener('click', () => {
                sidebar.classList.toggle('retracted');
                mainContent.classList.toggle('expanded');
            });

            // O código dos gráficos continua igual...
            const ctxEvolucao = document.getElementById('graficoEvolucao');
            if(ctxEvolucao) {
                new Chart(ctxEvolucao, { type: 'line', data: { labels: ['Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto'], datasets: [{ label: 'Total de Itens', data: [1100, 1150, 1250, 1200, 1220, 1250], borderColor: 'rgba(54, 162, 235, 1)', backgroundColor: 'rgba(54, 162, 235, 0.2)', tension: 0.3, fill: true }] }, options: { responsive: true, maintainAspectRatio: false, scales: { y: { ticks: { color: '#333', font: {size: 12}}}, x: { ticks: { color: '#333', font: {size: 12}}} }, plugins: { legend: { labels: { color: '#333', font: {size: 14}}} } } });
            }
    
            const ctxCategorias = document.getElementById('graficoCategorias');
            if(ctxCategorias) {
                new Chart(ctxCategorias, { type: 'doughnut', data: { labels: ['Resistores', 'Capacitores', 'Transistores', 'LEDs', 'Outros'], datasets: [{ label: 'Quantidade por Categoria', data: [350, 400, 150, 250, 100], backgroundColor: [ 'rgba(54, 162, 235, 0.8)', 'rgba(75, 192, 192, 0.8)', 'rgba(255, 206, 86, 0.8)', 'rgba(255, 99, 132, 0.8)', 'rgba(153, 102, 255, 0.8)' ], hoverOffset: 4 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'top', labels: { color: '#333', font: {size: 14}}} } } });
            }
        });
    </script>
</body>
</html>